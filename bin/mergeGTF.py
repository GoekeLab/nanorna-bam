#!/usr/bin/env python

#######################################################################
#######################################################################
## wrote on May 24th, 2020
#######################################################################
#######################################################################

import os
import sys
import argparse

############################################
############################################
## PARSE ARGUMENTS
############################################
############################################

Description = 'Merge the annotation GTF and GTFs generated by stringtie2.'
Epilog = """Example usage: python check_samplesheet.py <GTF_FILELIST> <MERGED_GTF_FILE>"""

argParser = argparse.ArgumentParser(description=Description, epilog=Epilog)

## REQUIRED PARAMETERS
argParser.add_argument('FILE_IN', help="GTF_FILELIST.")
argParser.add_argument('FILE_OUT', help="MERGED_GTF_FILE.")

args = argParser.parse_args()

############################################
############################################
## MAIN SCRIPT
############################################
############################################
outfile = open(args.FILE_OUT,"w")
gtf_filelist=open(args.FILE_IN,"r")
for path in gtf_filelist:
 path=path.strip("\r\n").strip("\n")
 file=open(path,"r") 
 for ln in file:
  if not ln.startswith("#"):
   if ln.startswith("chr"):
    outfile.write(ln)
   else:
    outfile.write("chr"+ln)
outfile.close()
